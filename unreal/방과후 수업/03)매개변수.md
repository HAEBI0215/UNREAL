[[02)BG]]


main 메소드안에 test.Plus 메소드에 매개변수를 넘기는데
x를 y인수로 넘긴다

int x = 3;
int y = 4;

int result = test.Plus(x, y);


mainApp.main 메소드 안에서 선언되어 test.Pluse 메소드에
인수로 넘겨진 x와 y는 실제로 test.plus안에 있는가에 대한
답은

아니다임

메소드를 외부로부터 메소드 내부로 데이터를 전달받는 매개체 역할을 
할 뿐임

매개변수도 어쨌든 변수라서 한 변수를 또 다른 변수에 할당하면
변수가 담고있던 데이터를 복사할 뿐임

그 데이터가 값이든 참조든 똑같음

test.plus 메소드가 호출될 때  x가 담고있는 데이터 3은
매개변수 a로 y가 담고있는 데이터 4는 매개변수 b로 복사


# 매개변수들의 서로의 값을 바꾸는 Swap

using System;
using System.Collections;
using System.Collections.Generic;

public class Test
{
    public static void Swap(int a, int b)
    {
        int temp = b;
        b = a;
        a = temp;
    }

}

이 메소드를 호출하면 x와 y의 값은?

= 여전히 같음

a는 x가 담고있는 3을, b는 y가 담고있는 4를 받음
Swap 메소드 안에서 아무리 두 매개변수를 어떻게 해도
Main안에서 선언된 x와 y에는 영향이 없음
이를 ==*값에 의한 전달*== 이라 부름


# 참조에 의한 매개변수 전달

swap은 두 매개변수의 값을 교환하지 못함
제대로 교환하게 하는 방법

이게 참조에 의한 전달

값에 의한 전달이 매개변수가 변수나 상수로 부터 값을 복사하는 거라면
참조에 의한 전달은 매개변수가 메소드에 넘겨진
원본 변수를 직접 참조함

그래서 메소드안 매개변수를 수정하면 이 매개변수가 참조하는
원본 변수에 수정이 이루어짐

= ref 키워드를 사용하면 됨

using System;
using System.Collections;
using System.Collections.Generic;

static void Test(string[] args)
{
    static void Swap(ref int a, ref int b)
    {
        int temp = b;
        b = a;
        a = temp;
    }

    static void Main(string[] args)
    {
        int x = 3;
        int y = 4;
        Console.WriteLine($"x : {x}, y : {y}");

        Swap(ref x, ref y);
        Console.WriteLine($"x : {x}, y : {y}");
    }

}

결과 
x : 3, y : 4
x : 4, y : 3


# 메소드의 결과를 참조로 반환

참조 반환값을 이용하면 호출자로 하여금 반환받은 결과를 
참조로 다룰 수 있게 함

이 메소드 선언방법은 ref 한정자를 사용해 메소드를 선언하고
return문이 반환하는 변수 앞에도 ref키워드를 넣어야함


using System;
using System.Buffers;
using System.Collections;
using System.Collections.Generic;
using System.Runtime.InteropServices;
using System.Security.Cryptography.X509Certificates;

public class Test(string[] args)
{ 
    int SV = 10;

    public ref int SM()
    {
        return ref SV;
    }
}

SM은 참조로 반환하도록 됬지만
호출자가 특별한 키워드를 사용하지 않는 한 값으로 반환하는 메소드로 구현

Test obj = new Test( );
int result = obj.SM;

SM이 반환하는 결과를 호출자가 참조로 넘겨받고 싶을때
결과를 담는 지역변수와 호출할 메소드의 이름 앞 ref키워드를 위치해야함

참조로 반환받은 결과를 담는 지역 변수를 ==*참조 지역 변수*== 라 부름

Test obj = new Test( );
ref int result = ref obj.SM;

# 출력 전용 매개변수

메소드의 결과는 대부분 하나면 됨
근데 대부분에 속하지 않는 두 개 이상의 결과를 요구하는 메소드가 있음

덧셈 뺄셈을 구현할 때 두 개의 매개변수를 넘겨받아 하나의 결과로
반환하지만 나눗셈은 제수와 피제수를 매개변수를 받아
몫과 나머지 두개로 반환해야함

= void Div(int a, int b, ref int quo, ref int remainder)
	{
		quo = a / b;
		remainder = a % b;
	}
몫과 나머지를 구하는 나눗셈 메소드를 만듦

int a = 20;
int b = 3
int c = 0;
int d = 0;

Div(a, b, ref c, ref d);

Console.WriteLine("Quo : {0}, Remainder : {1}", c, d);

\잘 작동함
ref로 여러 결과를 메소드에서 얻어올 수 있지만
out으로 더 안전하게 할 수 있음
ref대신 outㅇ르 쓰면 됨
 void Div(int a, int b, out int quo, out int remainder)
{
	quo = a / b;
	remainder = a % b;
}

int a = 20;
int b = 3
int c = 0;
int d = 0;

Div(a, b, out c, out d);

겉보기엔 ref가 그냥 out으로 바뀐거 같지만 out은 안전장치가 있음

ref 키워드를 이용해 매개변수를 넘길 때 메소드가 해당 매개변수에 
결과를 저장하지 않아도 컴파일러는 경고하지 않음

근데 out은 매개변수를 넘길 때 메소드가 해당 매개변수에 
결과를 저장하지 않을 때 에러가 출력됨


